<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>Azure on mitakeck.github.io </title>
    <link>http://mitakeck.github.io/tags/azure/</link>
    <language>en-us</language>
    <author>Alexander Ivanov</author>
    <updated>2017-04-30 16:40:01 &#43;0900 JST</updated>
    
    <item>
      <title>Text-to-Speech API 使ってみる</title>
      <link>http://mitakeck.github.io/bing-test-to-speech-api/</link>
      <pubDate>Sun, 30 Apr 2017 16:40:01 JST</pubDate>
      <author>Alexander Ivanov</author>
      <guid>http://mitakeck.github.io/bing-test-to-speech-api/</guid>
      <description>

&lt;h1 id=&#34;text-to-speech-api-使ってみる&#34;&gt;Text-to-Speech API 使ってみる&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;使用するライブラリ群&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f0f3f3&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color: #00CCFF; font-weight: bold&#34;&gt;http.client&lt;/span&gt;&lt;span style=&#34;color: #555555&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #00CCFF; font-weight: bold&#34;&gt;urllib.parse&lt;/span&gt;&lt;span style=&#34;color: #555555&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #00CCFF; font-weight: bold&#34;&gt;json&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;アクセストークンを取得する&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f0f3f3&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;subscription_key &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;&amp;lt; サブスクリプションキー &amp;gt;&amp;quot;&lt;/span&gt;
headers &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; {
    &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;Content-type&amp;quot;&lt;/span&gt;:              &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;application/x-www-form-urlencoded&amp;quot;&lt;/span&gt;,
    &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;Ocp-Apim-Subscription-Key&amp;quot;&lt;/span&gt;: subscription_key
}
access_token_host &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;api.cognitive.microsoft.com&amp;quot;&lt;/span&gt;
path &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;/sts/v1.0/issueToken&amp;quot;&lt;/span&gt;

conn &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; http&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;client&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;HTTPSConnection(access_token_host)
conn&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;request(&lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;POST&amp;quot;&lt;/span&gt;, path, params, headers)
response &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; conn&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;getresponse()

&lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;print&lt;/span&gt;(response&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;status, response&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;reason)

data &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; response&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;read()
conn&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;close()

access_token &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; data&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;decode(&lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt;)
&lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;print&lt;/span&gt; (&lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;Access Token: &amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #555555&#34;&gt;+&lt;/span&gt; access_token)
&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;音声データを作成する&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f0f3f3&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;text &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;日本語しゃべります&amp;quot;&lt;/span&gt;
body &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;&amp;lt;speak version=&amp;#39;1.0&amp;#39; xml:lang=&amp;#39;en-us&amp;#39;&amp;gt;&amp;lt;voice xml:lang=&amp;#39;ja-jp&amp;#39; xml:gender=&amp;#39;Female&amp;#39; name=&amp;#39;Microsoft Server Speech Text to Speech Voice (ja-JP, Ayumi, Apollo)&amp;#39;&amp;gt;&amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #555555&#34;&gt;+&lt;/span&gt; text &lt;span style=&#34;color: #555555&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;&amp;lt;/voice&amp;gt;&amp;lt;/speak&amp;gt;&amp;quot;&lt;/span&gt;

headers &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; {
    &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;Content-type&amp;quot;&lt;/span&gt;:             &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;application/ssml+xml&amp;quot;&lt;/span&gt;,
    &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;X-Microsoft-OutputFormat&amp;quot;&lt;/span&gt;: &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;riff-16khz-16bit-mono-pcm&amp;quot;&lt;/span&gt;,
    &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;Authorization&amp;quot;&lt;/span&gt;:            &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;Bearer &amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #555555&#34;&gt;+&lt;/span&gt; access_token,
    &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;User-Agent&amp;quot;&lt;/span&gt;:               &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;Meriken&amp;quot;&lt;/span&gt;
}

&lt;span style=&#34;color: #0099FF; font-style: italic&#34;&gt;# https://speech.platform.bing.com/synthesize&lt;/span&gt;
conn &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; http&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;client&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;HTTPSConnection(&lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;speech.platform.bing.com&amp;quot;&lt;/span&gt;)
conn&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;request(&lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;POST&amp;quot;&lt;/span&gt;, &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;/synthesize&amp;quot;&lt;/span&gt;, body&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;encode(&lt;span style=&#34;color: #CC3300&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;), headers)
response &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; conn&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;getresponse()
&lt;span style=&#34;color: #006699; font-weight: bold&#34;&gt;print&lt;/span&gt;(response&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;status, response&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;reason)

data &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; response&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;read()
conn&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;close()

wav &lt;span style=&#34;color: #555555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #336666&#34;&gt;open&lt;/span&gt;(&lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;download-&amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #555555&#34;&gt;+&lt;/span&gt; text &lt;span style=&#34;color: #555555&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;.wav&amp;quot;&lt;/span&gt;, &lt;span style=&#34;color: #CC3300&#34;&gt;&amp;quot;wb&amp;quot;&lt;/span&gt;)
wav&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;write(data)
wav&lt;span style=&#34;color: #555555&#34;&gt;.&lt;/span&gt;close()
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;声色は何種類か用意されていて、日本語は男性声と女性声と 2 種類ある&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ar-EG*	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (ar-EG, Hoda)&amp;quot;
de-DE	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (de-DE, Hedda)&amp;quot;
de-DE	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (de-DE, Stefan, Apollo)&amp;quot;
en-AU	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (en-AU, Catherine)&amp;quot;
en-CA	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (en-CA, Linda)&amp;quot;
en-GB	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (en-GB, Susan, Apollo)&amp;quot;
en-GB	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (en-GB, George, Apollo)&amp;quot;
en-IN	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (en-IN, Ravi, Apollo)&amp;quot;
en-US	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (en-US, ZiraRUS)&amp;quot;
en-US	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (en-US, BenjaminRUS)&amp;quot;
es-ES	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (es-ES, Laura, Apollo)&amp;quot;
es-ES	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (es-ES, Pablo, Apollo)&amp;quot;
es-MX	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (es-MX, Raul, Apollo)&amp;quot;
fr-CA	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (fr-CA, Caroline)&amp;quot;
fr-FR	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (fr-FR, Julie, Apollo)&amp;quot;
fr-FR	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (fr-FR, Paul, Apollo)&amp;quot;
hi-IN	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (hi-IN, Kalpana, Apollo)&amp;quot;
it-IT	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (it-IT, Cosimo, Apollo)&amp;quot;
ja-JP	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (ja-JP, Ayumi, Apollo)&amp;quot;
ja-JP	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (ja-JP, Ichiro, Apollo)&amp;quot;
ko-KR	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (ko-KR,HeamiRUS)&amp;quot;
pt-BR	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (pt-BR, Daniel, Apollo)&amp;quot;
ru-RU	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (ru-RU, Irina, Apollo)&amp;quot;
ru-RU	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (ru-RU, Pavel, Apollo)&amp;quot;
zh-CN	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (zh-CN, HuihuiRUS)&amp;quot;
zh-CN	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (zh-CN, Yaoyao, Apollo)&amp;quot;
zh-CN	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (zh-CN, Kangkang, Apollo)&amp;quot;
zh-HK	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (zh-HK, Tracy, Apollo)&amp;quot;
zh-HK	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (zh-HK, Danny, Apollo)&amp;quot;
zh-TW	Female	&amp;quot;Microsoft Server Speech Text to Speech Voice (zh-TW, Yating, Apollo)&amp;quot;
zh-TW	Male	&amp;quot;Microsoft Server Speech Text to Speech Voice (zh-TW, Zhiwei, Apollo)&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;参照リンク&#34;&gt;参照リンク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.microsoft.com/ja-jp/azure/cognitive-services/Speech/api-reference-rest/bingvoiceoutput&#34;&gt;https://docs.microsoft.com/ja-jp/azure/cognitive-services/Speech/api-reference-rest/bingvoiceoutput&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/Azure-Samples/Cognitive-Speech-STT-JavaScript&#34;&gt;https://github.com/Azure-Samples/Cognitive-Speech-STT-JavaScript&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gist.github.com/mitakeck/b2a953dfdf84b1e2c0d3c950d812ad0f&#34;&gt;https://gist.github.com/mitakeck/b2a953dfdf84b1e2c0d3c950d812ad0f&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>
